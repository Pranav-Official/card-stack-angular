<div class="flex flex-row justify-around pt-12">
  @for( card of cardList;track $index){
  <div class="card w-64 bg-base-100 shadow-xl p-0">
    <figure>
      <img
        src="https://th.bing.com/th/id/OIP.b3cSjOntGcoxKJqNBDetUAHaHa?rs=1&pid=ImgDetMain"
        alt="Shoes"
        class="aspect-video"
      />
    </figure>

    <div class="card-body">
      <div class="prose">
        <h3 class="card-title font-bold">{{ card.card_name }}</h3>
      </div>
      <div class="flex flex-row gap-3">
        <svg
          width="20"
          height="19"
          viewBox="0 0 20 19"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M18.25 3.75H14.5V3C14.5 1.75736 13.4926 0.75 12.25 0.75H7.75C6.50736 0.75 5.5 1.75736 5.5 3V3.75H1.75C0.921573 3.75 0.25 4.42157 0.25 5.25V17.25C0.25 18.0784 0.921573 18.75 1.75 18.75H18.25C19.0784 18.75 19.75 18.0784 19.75 17.25V5.25C19.75 4.42157 19.0784 3.75 18.25 3.75ZM7 3C7 2.58579 7.33579 2.25 7.75 2.25H12.25C12.6642 2.25 13 2.58579 13 3V3.75H7V3ZM18.25 5.25V9.15094C15.7185 10.5289 12.8822 11.2505 10 11.25C7.11794 11.2505 4.28165 10.5292 1.75 9.15187V5.25H18.25ZM18.25 17.25H1.75V10.8413C4.31868 12.0977 7.1405 12.7506 10 12.75C12.8596 12.7501 15.6813 12.0969 18.25 10.8403V17.25ZM7.75 9C7.75 8.58579 8.08579 8.25 8.5 8.25H11.5C11.9142 8.25 12.25 8.58579 12.25 9C12.25 9.41421 11.9142 9.75 11.5 9.75H8.5C8.08579 9.75 7.75 9.41421 7.75 9Z"
            fill="currentColor"
          />
        </svg>
        <p>{{ card.job_title }}</p>
      </div>

      <div class="card-actions justify-end flex flex-col w-full max-w-full">
        <div class="flex flex-row gap-3">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 16 16"
            fill="currentColor"
            class="w-4 h-4 opacity-70"
          >
            <path
              d="M2.5 3A1.5 1.5 0 0 0 1 4.5v.793c.026.009.051.02.076.032L7.674 8.51c.206.1.446.1.652 0l6.598-3.185A.755.755 0 0 1 15 5.293V4.5A1.5 1.5 0 0 0 13.5 3h-11Z"
            />
            <path
              d="M15 6.954 8.978 9.86a2.25 2.25 0 0 1-1.956 0L1 6.954V11.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V6.954Z"
            />
          </svg>
          <p class="text-md">{{ card.email }}</p>
        </div>
        <div class="flex flex-row gap-3">
          <svg
            width="16"
            height="15"
            viewBox="0 0 16 15"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M2.60587 7.93057L4.91197 5.26007C5.14571 4.96956 5.26259 4.82431 5.32384 4.6614C5.37804 4.51724 5.40046 4.36373 5.38967 4.21071C5.37748 4.03777 5.30677 3.86692 5.16538 3.5252L4.626 2.22174C4.41675 1.71604 4.31212 1.46319 4.13163 1.29746C3.97258 1.15142 3.77327 1.05291 3.55767 1.01377C3.313 0.969368 3.03969 1.03542 2.49307 1.16751L1 1.52838C1 8.86462 6.3123 14 13.9019 14L14.275 12.5565C14.4116 12.0282 14.48 11.7639 14.434 11.5275C14.3935 11.319 14.2917 11.1264 14.1406 10.9726C13.9691 10.7982 13.7075 10.697 13.1844 10.4947L11.9811 10.0295C11.5778 9.8735 11.3761 9.79552 11.1751 9.78958C10.9974 9.7843 10.8209 9.81929 10.6597 9.89184C10.4773 9.97386 10.3238 10.1224 10.0167 10.4192L7.67429 12.6479"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
          <p class="text-md">{{ card.phone }}</p>
        </div>
        <div class="flex flex-row gap-3">
          <svg
            width="20"
            height="18"
            viewBox="0 0 20 18"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M13 0C13.5304 0 14.0391 0.210714 14.4142 0.585786C14.7893 0.960859 15 1.46957 15 2V6H17C17.5304 6 18.0391 6.21071 18.4142 6.58579C18.7893 6.96086 19 7.46957 19 8V16C19.2652 16 19.5196 16.1054 19.7071 16.2929C19.8946 16.4804 20 16.7348 20 17C20 17.2652 19.8946 17.5196 19.7071 17.7071C19.5196 17.8946 19.2652 18 19 18H1C0.734784 18 0.48043 17.8946 0.292893 17.7071C0.105357 17.5196 0 17.2652 0 17C0 16.7348 0.105357 16.4804 0.292893 16.2929C0.48043 16.1054 0.734784 16 1 16V6C1 5.46957 1.21071 4.96086 1.58579 4.58579C1.96086 4.21071 2.46957 4 3 4H5V2C5 1.46957 5.21071 0.960859 5.58579 0.585786C5.96086 0.210714 6.46957 0 7 0H13ZM5 6H3V16H5V6ZM17 8H15V16H17V8ZM13 2H7V16H13V2ZM11 12V14H9V12H11ZM11 8V10H9V8H11ZM11 4V6H9V4H11Z"
              fill="currentColor"
            />
          </svg>
          <p class="text-md">{{ card.company_name }}</p>
        </div>
        <div class="flex flex-row gap-3">
          <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M18.9375 10.0923C18.9381 9.2176 18.81 8.34758 18.5571 7.51024L18.4498 7.15479H18.0784H14.1119H13.5222L13.6186 7.73655C13.8772 9.2964 13.8772 10.8882 13.6186 12.448L13.5222 13.0298H14.1119H18.0784H18.4498L18.5571 12.6743C18.81 11.837 18.9381 10.967 18.9375 10.0923ZM18.9375 10.0923C18.9375 10.0924 18.9375 10.0925 18.9375 10.0927L18.4375 10.0923L18.9375 10.0919C18.9375 10.092 18.9375 10.0922 18.9375 10.0923ZM9.93215 18.5155L9.72813 18.972C9.72812 18.972 9.72811 18.972 9.7281 18.972C9.6441 18.9344 9.56884 18.8798 9.50708 18.8117C8.23953 17.4456 7.31748 15.7025 6.79862 13.7854L6.62794 13.1548H7.28125H12.7188H13.3721L13.2014 13.7854C12.6825 15.7025 11.7604 17.4457 10.4929 18.8118L10.0679 18.5155C10.0465 18.525 10.0234 18.5299 10 18.5298M9.93215 18.5155C9.95349 18.525 9.97663 18.5299 10 18.5298M9.93215 18.5155C9.91081 18.506 9.89175 18.492 9.87625 18.4745L9.93215 18.5155ZM10 18.5298L9.99723 19.0298C9.99815 19.0298 9.99908 19.0298 10 19.0298C10.0009 19.0298 10.0019 19.0298 10.0028 19.0298L10 18.5298ZM1.0625 10.0923C1.06187 10.967 1.19005 11.837 1.44292 12.6743L1.55026 13.0298H1.92157H5.88813H6.47783L6.3814 12.448C6.12285 10.8882 6.12285 9.2964 6.3814 7.73655L6.47783 7.15479H5.88813H1.92157H1.55026L1.44292 7.51024C1.19005 8.34758 1.06187 9.2176 1.0625 10.0923ZM1.0625 10.0923C1.0625 10.0922 1.0625 10.092 1.0625 10.0919L1.5625 10.0923L1.0625 10.0927C1.0625 10.0925 1.0625 10.0924 1.0625 10.0923ZM5.88813 12.5298H5.38153C5.3859 12.557 5.39034 12.5843 5.39486 12.6115L5.88813 12.5298ZM5.88813 12.5298V12.0298H5.81394C5.83583 12.1968 5.86056 12.3634 5.88813 12.5298ZM5.88813 7.65479V8.15479H5.81394C5.83583 7.98782 5.86056 7.82113 5.88813 7.65479ZM5.88813 7.65479L5.39486 7.57302C5.39034 7.60027 5.3859 7.62752 5.38153 7.65479H5.88813ZM10 1.15478C9.90632 1.15466 9.81366 1.17435 9.72812 1.21258L9.72812 1.21259C9.64412 1.25013 9.56888 1.3047 9.50713 1.37281C8.23955 2.7389 7.31749 4.48207 6.79862 6.39916L6.62794 7.02979H7.28125H12.7188H13.3721L13.2014 6.39916C12.6825 4.48205 11.7604 2.73887 10.4929 1.37278C10.4311 1.30468 10.3559 1.25012 10.2719 1.21259L10.2719 1.21258C10.1863 1.17435 10.0937 1.15466 10 1.15478ZM10 1.15478C10.0009 1.15478 10.0018 1.15479 10.0028 1.15479L10 1.65479L9.99724 1.15479C9.99816 1.15479 9.99908 1.15478 10 1.15478ZM17.6472 7.02979H18.4331L18.1001 6.31792C17.5081 5.05244 16.6286 3.94278 15.5318 3.07744C14.4349 2.21209 13.151 1.615 11.7825 1.33377L10.5021 1.07065L11.2801 2.1211C12.2811 3.47275 13 5.01188 13.3942 6.64697L13.4865 7.02979H13.8803H17.6472ZM6.5369 12.6179L6.61066 13.0298H7.02907H12.9709H13.3893L13.4631 12.6179C13.7623 10.9475 13.7623 9.23711 13.4631 7.56664L13.3893 7.15479H12.9709H7.02907H6.61066L6.5369 7.56664C6.23772 9.23711 6.23772 10.9475 6.5369 12.6179ZM8.71994 2.1211L9.49788 1.07065L8.21748 1.33377C6.84897 1.615 5.56511 2.21209 4.46826 3.07744C3.37141 3.94278 2.49192 5.05244 1.89992 6.31792L1.56691 7.02979H2.35282H6.11969H6.51347L6.60576 6.64697C6.99997 5.01188 7.71895 3.47275 8.71994 2.1211ZM2.35282 13.1548H1.56691L1.89992 13.8666C2.49192 15.1321 3.37141 16.2418 4.46826 17.1071C5.56511 17.9725 6.84897 18.5696 8.21748 18.8508L9.49788 19.1139L8.71994 18.0635C7.71895 16.7118 6.99997 15.1727 6.60576 13.5376L6.51347 13.1548H6.11969H2.35282ZM10.5021 19.1139L11.7825 18.8508C13.151 18.5696 14.4349 17.9725 15.5318 17.1071C16.6286 16.2418 17.5081 15.1321 18.1001 13.8666L18.4331 13.1548H17.6472H13.8803H13.4865L13.3942 13.5376C13 15.1727 12.2811 16.7118 11.2801 18.0635L10.5021 19.1139ZM4.96515 2.55709C6.45539 1.56134 8.20743 1.02984 9.99972 1.02979C12.4024 1.03269 14.7059 1.98844 16.4049 3.68742C18.1039 5.38647 19.0597 7.69006 19.0625 10.0929C19.0624 11.8851 18.5309 13.637 17.5352 15.1271C16.5394 16.6175 15.124 17.779 13.4681 18.4649C11.8121 19.1509 9.98995 19.3303 8.232 18.9807C6.47405 18.631 4.85926 17.7679 3.59185 16.5004C2.32444 15.233 1.46132 13.6182 1.11164 11.8603C0.761959 10.1023 0.941427 8.28017 1.62735 6.62422C2.31327 4.96826 3.47483 3.55289 4.96515 2.55709Z"
              fill="currentColor"
              stroke="currentColor"
            />
          </svg>
          <p class="text-md">{{ card.company_website }}</p>
        </div>
        <div class="flex flex-row gap-4 justify-between w-full">
          <button class="btn btn-md w-5/12" onclick="my_modal_2.showModal()" (click)="editMode=true">Edit</button>
          <button class="btn btn-md btn-error w-5/12" (click)="deleteCard(card.card_id)">Delete</button>
        </div>
      </div>
    </div>
  </div>
  <dialog id="my_modal_2" class="modal p-0">
    <form method="dialog" class="modal-backdrop">
      <button>close</button>
    </form>
    <div class="modal-box">
      <app-create-card-form (status)="onStatusChange($event)" [cardDetails] = "card" />
    </div>
  </dialog>
  }
</div>
@if(actionSuccess){
  <div
    class="alert alert-success w-full m-3 max-w-xs fixed bottom-2 right-2"
    role="alert"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="stroke-current shrink-0 h-6 w-6"
      fill="none"
      viewBox="0 0 24 24"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
      />
    </svg>
    {{ actionMessage }}
  </div>
  } @if(actionFailure){
  <div
    class="alert alert-error w-full m-3 max-w-xs fixed bottom-2 right-2"
    role="alert"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="stroke-current shrink-0 h-6 w-6"
      fill="none"
      viewBox="0 0 24 24"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"
      />
    </svg>
    {{ actionMessage }}
  </div>
  }
